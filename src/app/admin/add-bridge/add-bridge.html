<div class="wrapper">

    <div class="preview">

        @if(current() && current().imageUrl && !imagePreview()){
        <img [src]="current().imageUrl"
            alt="not found">
        }
        @if(imagePreview()) {
        <img [src]="imagePreview()"
            alt="">
        }
        <div class="description-preview"
            [innerHTML]="description()">
        </div>
    </div>


    <div class="text-editor-container">
        <app-quill-text-editor [textIn]="description()"
            (valueChange)="onValueChange($event)"></app-quill-text-editor>
    </div>


    <form [formGroup]="form">
        <mat-form-field>
            <mat-label>name</mat-label>
            <input matInput
                formControlName="name"
                placeholder="Name"
                required />
        </mat-form-field>
        <mat-form-field>
            <mat-label>slug</mat-label>
            <input matInput
                formControlName="slug"
                placeholder="Slug"
                required />

        </mat-form-field>
        <mat-form-field>
            <mat-label>Latitude</mat-label>
            <input matInput
                formControlName="lat"
                type="number"
                required />
        </mat-form-field>
        <mat-form-field>
            <mat-label>Longitude</mat-label>
            <input matInput
                formControlName="lng"
                type="number"
                required />
        </mat-form-field>
        <mat-form-field>
            <mat-label>Public Url</mat-label>
            <input matInput
                formControlName="publicUrl"
                type="string" />
        </mat-form-field>
        <!-- <mat-form-field>
            <textarea matInput
                formControlName="description"
                placeholder="Description"></textarea>

        </mat-form-field> -->
        <input type="file"
            #fileInput
            style="display: none;"
            accept="image/*"
            (change)="onFileSelected($event)">
        <div class="image-buttons">
            <button mat-raised-button
                (click)="fileInput.click()">select image file</button>
            <button mat-raised-button
                (click)="onDeleteImage()">delete image</button>

        </div>
        <div class="buttons">
            <button mat-raised-button
                color="accent"
                type="button"
                (click)="onClear()">Clear</button>
            <button mat-raised-button
                color="primary"
                (click)="onSaveBridge()">{{ editmode() ? 'Update' : 'Add' }}</button>
            <button mat-raised-button
                (click)="onCancel()">cancel</button>
        </div>
    </form>
</div>
